<h1 class="text-center fw-semibold">Lista de Productos</h1>
<table class="table text-center align-middle table-hover">
  <thead class="table-dark">
    <tr>
        <th scope="col" aria-label="Imagen"></th>
        <th>Nombre</th>
        <th>Tipo</th>
        <th>Precio</th>
        <th>Unidades</th>
        <th>Stock</th>
        <th scope="col" aria-label="Producto en oferta"></th>
        <th>Compra</th>
    </tr>
  </thead>
  <tbody>

    @for(producto of productos; track producto.nombre){
      <tr [ngClass] = "{'oferta': producto.oferta}">
        <td class="td-ajustada p-0"> <img class="img-producto" [src]="producto.img" [alt]="producto.nombre"></td>
        <td>{{producto.nombre}}</td>
        <td>{{producto.tipo}}</td>
        <td>{{producto.precio | currency}}</td>
        <td>{{producto.unidades}}</td>

        @if(producto.stock !== 0){
          <td> <span>{{producto.stock}}</span></td>
        }@else {
          <td> <span class="badge text-bg-danger fs-6">Sin Stock</span> </td> 
        }

        @if(producto.oferta){
          <td> <span class="badge text-bg-success fs-6">En oferta</span> </td>
        }@else {
          <td colspan="1"></td>
        }

        <td> <!-- Cantidad a comprar -->
          <app-input-integer [(cantidad)]="producto.cantidad" [max]="producto.stock" (maxAlcanzado)="maxAlcanzado($event)"></app-input-integer>
        </td>
      </tr>
    }@empty {
      <tr>
        <td colspan="8">No hay productos para mostrar.</td>
      </tr>
    }

  </tbody>
</table>


